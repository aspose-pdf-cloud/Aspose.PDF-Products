---
title: 通过 Aspose.Pdf Cloud PHP SDK 在 PDF 文档中添加附件
url: php/attachments/add/
description: 使用 PHP 和 Aspose.PDF Cloud SDK 向 PDF 文件添加附件。轻松嵌入支持文件。
lastmod: 2024-10-29
---

{{< blocks/products/pf/main-wrap-class isAutogenPage="true">}}
{{< blocks/products/pf/upper-banner h1="在 PHP SDK 中添加附件到 PDF" h2="使用 Aspose.PDF Cloud PHP SDK 在 PDF 文档中添加附件的 API" logoImageSrc="https://products.aspose.cloud/headers/aspose_pdf-for-php.svg" sourceAdditionalConversionTag="" additionalConversionTag="PDF" pfName="" subTitlepfName="" downloadUrl="" fileiconsmall1="HTML" fileiconsmall2="JPG" fileiconsmall3="PDF" fileiconsmall4="XML" fileiconsmall5="DOCX" >}}

{{< blocks/products/pf/main-container pfName="Aspose.PDF Cloud" subTitlepfName="PHP SDK" >}}
{{< blocks/products/pf/sub-menu logoImageSrc="https://products.aspose.cloud/sdk/aspose_pdf-for-php.svg"
autoGeneratedVersion="true"
liveDemosLink="https://products.aspose.app/pdf/family/" PricingLink="https://purchase.aspose.cloud/pricing" buyLink="" docsLink="https://docs.aspose.cloud/pdf"  directDownloadLink="https://github.com/aspose-pdf-cloud/aspose-pdf-cloud-php" >}}

{{% blocks/products/pf/agp/content h2="如何使用 Cloud PHP SDK 在 PDF 文档中添加附件" %}}

为了处理 PDF 文档中的附件，我们将使用
[Aspose.PDF Cloud PHP SDK](https://products.aspose.cloud/pdf/php/)
此 Cloud SDK 帮助 PHP 程序员使用 PHP 编程语言通过 Aspose.PDF REST API 开发基于云的 PDF 创建、注释、编辑和转换应用程序。打开
[NPM](https://www.npmjs.com/package/asposepdfcloud)
包管理器，搜索 Aspose.PDF Cloud，并安装。

{{% /blocks/products/pf/agp/content %}}

{{< blocks/products/pf/agp/feature-section isGrey="true" >}}

{{% blocks/products/pf/agp/feature-section-col title="使用 PHP SDK 添加附件的步骤" %}}

{{% blocks/products/pf/agp/text %}}

Aspose.PDF Cloud PHP 开发人员可以轻松地在 PDF 文档中添加附件。开发人员只需几行代码。

{{% /blocks/products/pf/agp/text %}}

1. 从 JSON 文件加载 API 凭证
1. 使用加载的凭证配置 API 客户端
1. 将本地 PDF 文件上传到 Aspose 存储
1. 将文件作为附件添加
1. 下载并保存 PDF

{{% /blocks/products/pf/agp/feature-section-col %}}

{{% blocks/products/pf/agp/code-block title="此示例代码展示如何使用 PDF Cloud PHP SDK 将文件附件添加到 PDF 文档中" offSpacer="" %}}

```php

    <?php

    require_once 'vendor/autoload.php';

    use Aspose\PDF\Api\PdfApi;
    use Aspose\PDF\Configuration;
    use Aspose\PDF\Model\AttachmentInfo;
    use Aspose\PDF\Model\AttachmentResponse;

    // Load credentials
    $credentials = json_decode(file_get_contents("./credentials.json"), true);
    $apiKey = $credentials["key"];
    $appSID = $credentials["id"];

    $config = new Configuration();
    $config->setAppKey($apiKey);
    $config->setAppSid($appSID);

    $pdfApi = new PdfApi(null, $config);

    $localFileName = "../Samples/Attachments/sample_attachment.pdf";
    $storageFileName = "sample_attachment.pdf";
    $localAttachmentFileName = "../Samples/Attachments/file_example_MP3_700KB.mp3";
    $storageAttachmentFileName = "file_example_MP3_700KB.mp3";
    $resultFileName = "../Samples/Attachments/sample_attachment.pdf";

    try {
        $pdfApi->uploadFile($storageFileName, $localFileName);
        echo "Uploaded: " . $storageFileName . "\n";

        $pdfApi->uploadFile($storageAttachmentFileName, $localAttachmentFileName);
        echo "Uploaded: " . $storageAttachmentFileName . "\n";

        $attachment = new AttachmentInfo([
            'name' => $storageAttachmentFileName,
            'path' => $storageAttachmentFileName,
            'description' => "An example of MP3 file",
            'mime_type' => "audio/mpeg"
        ]);

        $appendResult = $pdfApi->postAddDocumentAttachment($storageFileName, $attachment);

        if ($appendResult->getCode() == 200) {
            echo "Status: " . $appendResult->getStatus() . "\n";
            $downloadResult = $pdfApi->downloadFile($storageFileName);
            file_put_contents($resultFileName, $downloadResult);
        } else {
            echo "Unexpected error: can't download attachments.\n";
            return;
        }
    } catch (Exception $e) {
        echo "Error adding attachment: {$e->getMessage()}\n";
        return;
    }
```

{{% /blocks/products/pf/agp/code-block %}}

{{< /blocks/products/pf/agp/feature-section >}}

{{< blocks/products/pf/agp/faq-item question="" answer="" >}}

{{< /blocks/products/pf/main-container >}}

{{< /blocks/products/pf/main-wrap-class >}}
